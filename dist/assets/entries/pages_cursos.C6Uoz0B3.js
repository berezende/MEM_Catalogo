import{c as E,r as o,j as e,M,u as oe,i as le,a as ie,o as ne}from"../chunks/chunk-LOchvrxB.js";import{s as u,g as X,S as G,a as ce}from"../chunks/chunk-Dsq9SuiG.js";import{S as de}from"../chunks/chunk-B9bfo-Uh.js";/* empty css                      */import"../chunks/chunk-Chflhp3s.js";/* empty css                      *//**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=E("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=E("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=E("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=E("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=E("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fe=({id:m,name:r,location:s,type:j,image:h,onViewDetails:p})=>{const[b,i]=o.useState(!1);return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 overflow-hidden group flex flex-col h-full border border-gray-100",children:[e.jsxs("div",{className:"relative h-56 overflow-hidden",style:{backgroundColor:"#FFFFFF"},children:[e.jsx("div",{className:"absolute inset-0 m-4 bg-center bg-no-repeat transform group-hover:scale-105 transition-all duration-700 ease-out",style:{backgroundImage:`url(${h||"https://s1.static.brasilescola.uol.com.br/be/vestibular/66f30f0386eaf116ba64518409582190.jpg"})`,backgroundSize:"contain",backgroundColor:"#FFFFFF"},onError:c=>{c.currentTarget.style.backgroundImage="url(https://s1.static.brasilescola.uol.com.br/be/vestibular/66f30f0386eaf116ba64518409582190.jpg)"}}),e.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-blue-500/90 backdrop-blur-sm text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:[e.jsx(de,{className:"w-3.5 h-3.5"}),j]})}),e.jsx("button",{onClick:c=>{c.stopPropagation(),i(!b)},className:"absolute top-4 left-4 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white transition-all duration-300 shadow-lg transform hover:scale-110",children:e.jsx(me,{className:`w-5 h-5 transition-all duration-300 ${b?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-600 transition-colors duration-300 leading-tight",children:r}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-6",children:[e.jsx(M,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:s})]}),e.jsx("div",{className:"mt-auto",children:e.jsxs("button",{onClick:()=>p(u(r)),className:"group/btn w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3.5 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-bold shadow-md hover:shadow-xl transform hover:scale-[1.02] flex items-center justify-center gap-2",children:["Ver Detalhes",e.jsx(ue,{className:"w-5 h-5 group-hover/btn:translate-x-1 transition-transform duration-300"})]})})]})]})};function _(m){return m==="publica"?"Pública":m==="particular"?"Particular":m}function Q(m){return m.map((r,s)=>({_uid:`${r.id}-${s}`,id:r.id,name:r.name,location:`${r.cidade}, ${r.estado}`,state:r.estado,city:r.cidade,type:r.tipo,image:r.logo||"https://s1.static.brasilescola.uol.com.br/be/vestibular/66f30f0386eaf116ba64518409582190.jpg",ranking:r.ranking}))}function he(m,r){if(!r)return[...m];let s=[...m];const j=r.searchTerm||"",h=u(r.state||""),p=u(r.city||""),b=_(r.type||"");if(j){const i=j.toLowerCase();s=s.filter(c=>c.name.toLowerCase().includes(i)||c.state.toLowerCase().includes(i)||c.city.toLowerCase().includes(i)||c.location.toLowerCase().includes(i))}return h&&(s=s.filter(i=>u(i.state)===h)),p&&(s=s.filter(i=>u(i.city)===p)),b&&(s=s.filter(i=>i.type===b)),s.sort((i,c)=>i.name.localeCompare(c.name)),s}const pe=({onUniversitySelect:m,onFilterChange:r,searchFilters:s,initialVisibleCount:j=6,initialScrollPosition:h=0,initialUniversities:p})=>{const[b,i]=o.useState("name"),[c,W]=o.useState(p?Q(p):[]),[w,Y]=o.useState(()=>{const t=p?Q(p):[];return he(t,s)}),[P,F]=o.useState(j),[U,B]=o.useState(!1),T=o.useRef(!0),[N,A]=o.useState(s?.searchTerm||""),[f,D]=o.useState(X(s?.state||"")||s?.state||""),[x,S]=o.useState(s?.city||""),[y,k]=o.useState(_(s?.type||"")),[ee,te]=o.useState([]),[$,O]=o.useState([]),[R,ae]=o.useState({}),I=o.useRef(null),[V,q]=o.useState(s?.searchTerm||""),se=(t,a,l,d)=>{const n=t==="Pública"?"publica":t==="Particular"?"particular":"",v=a?u(a):"",C=l?u(l):"";if(d){const g=new URLSearchParams;return g.set("q",d),n&&g.set("type",n),v&&g.set("state",v),C&&g.set("city",C),`/cursos?${g.toString()}`}if(n){let g=`/cursos/${n}`;return v&&(g+=`/${v}`),v&&C&&(g+=`/${C}`),g}if(v){let g=`/cursos/${v}`;return C&&(g+=`/${C}`),g}return"/cursos"},z=o.useRef(!1);o.useEffect(()=>{s&&!z.current&&(z.current=!0,A(s.searchTerm||""),D(X(s.state||"")||s.state||""),k(_(s.type||"")),s.city||S(""))},[s]),o.useEffect(()=>{if(s?.city&&$.length>0){const t=s.city,l=$.find(d=>d===t||u(d)===t)||t;S(d=>d!==l?l:d)}},[s,$]),o.useEffect(()=>{z.current&&(I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{q(N)},500))},[N]),o.useEffect(()=>{if(!z.current)return;const t=se(y,f,x,V);window.location.pathname+window.location.search!==t&&history.pushState(null,"",t)},[y,f,x,V]),o.useEffect(()=>{fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome").then(t=>t.json()).then(t=>{te(t.map(l=>l.nome));const a={};t.forEach(l=>{a[l.nome]=l.id}),ae(a)})},[]),o.useEffect(()=>{if(!f||!R[f]){O([]);return}const t=R[f];fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${t}/municipios`).then(a=>a.json()).then(a=>{const l=a.map(d=>d.nome);if(O(l),x&&!l.includes(x)){const d=l.find(n=>u(n)===x);d&&S(d)}})},[f,R]),o.useEffect(()=>{if(p&&p.length>0)return;(async()=>{try{const{data:a,error:l}=await ce.from("Instituicoes").select("id, name, cidade, estado, tipo, logo, ranking");if(l){console.error("Erro ao carregar dados do Supabase:",l);return}if(a){const d=a.map((n,v)=>({_uid:`${n.id}-${v}`,id:n.id,name:n.name,location:`${n.cidade}, ${n.estado}`,state:n.estado,city:n.cidade,type:n.tipo,image:n.logo||"https://s1.static.brasilescola.uol.com.br/be/vestibular/66f30f0386eaf116ba64518409582190.jpg",ranking:n.ranking}));W(d)}}catch(a){console.error("Erro ao carregar dados do Supabase:",a)}})()},[]),o.useEffect(()=>{let t=[...c];if(N){const a=N.toLowerCase();t=t.filter(l=>l.name.toLowerCase().includes(a)||l.state.toLowerCase().includes(a)||l.city.toLowerCase().includes(a)||l.location.toLowerCase().includes(a))}f&&(t=t.filter(a=>a.state===f||u(a.state)===u(f))),x&&(t=t.filter(a=>a.city===x||u(a.city)===x)),y&&(t=t.filter(a=>a.type===y)),t.sort((a,l)=>{switch(b){case"name":return a.name.localeCompare(l.name);case"name-desc":return l.name.localeCompare(a.name);default:return 0}}),Y(t),T.current||F(6)},[c,b,N,f,x,y]),o.useEffect(()=>{h>0&&w.length>0&&T.current?setTimeout(()=>{window.scrollTo({top:h,behavior:"instant"}),T.current=!1},100):w.length>0&&T.current&&(T.current=!1)},[h,w]);const H=w.slice(0,P),re=()=>{F(t=>t+6)},Z=()=>{A(""),q(""),D(""),S(""),k(""),r&&r({searchTerm:"",state:"",city:"",type:""})};return e.jsx("section",{className:"py-12 bg-gradient-to-b from-gray-50 to-white min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>B(!U),className:"lg:hidden mb-6 flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-full hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-semibold shadow-lg transform hover:scale-105",children:[e.jsx(J,{className:"h-5 w-5"}),U?"Ocultar Filtros":"Mostrar Filtros"]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:`
            ${U?"block":"hidden"} 
            lg:block 
            w-full lg:w-80 
            flex-shrink-0
          `,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 lg:sticky lg:top-6 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(J,{className:"h-5 w-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Filtros"})]}),e.jsx("button",{onClick:()=>B(!1),className:"lg:hidden text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(K,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Pesquisar"}),e.jsxs("div",{className:"relative group",children:[e.jsx(G,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-blue-600 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Nome, cidade, estado...",value:N,onChange:t=>{const a=t.target.value;A(a)},className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 text-sm font-medium hover:border-gray-300"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Tipo de Instituição"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"type",value:"",checked:y==="",onChange:t=>{k(t.target.value)},className:"w-5 h-5 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 font-medium group-hover:text-gray-900 transition-colors",children:"Todas"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"type",value:"Pública",checked:y==="Pública",onChange:t=>{k(t.target.value)},className:"w-5 h-5 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 font-medium group-hover:text-gray-900 transition-colors",children:"Pública"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"type",value:"Particular",checked:y==="Particular",onChange:t=>{k(t.target.value)},className:"w-5 h-5 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 font-medium group-hover:text-gray-900 transition-colors",children:"Particular"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Estado"}),e.jsxs("div",{className:"relative group",children:[e.jsx(M,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-blue-600 transition-colors"}),e.jsxs("select",{value:f,onChange:t=>{D(t.target.value),S("")},className:"w-full pl-12 pr-10 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none text-sm font-medium hover:border-gray-300 cursor-pointer",children:[e.jsx("option",{value:"",children:"Todos os Estados"}),ee.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx(L,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Cidade"}),e.jsxs("div",{className:"relative group",children:[e.jsx(M,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-blue-600 transition-colors"}),e.jsxs("select",{value:x,onChange:t=>{S(t.target.value)},className:"w-full pl-12 pr-10 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none text-sm font-medium hover:border-gray-300 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",disabled:!f,children:[e.jsx("option",{value:"",children:"Todas as Cidades"}),$.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx(L,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),e.jsx("button",{onClick:Z,className:"w-full bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 py-3 rounded-xl hover:from-gray-200 hover:to-gray-300 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow transform hover:scale-[1.02]",children:"Limpar Filtros"})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsx("div",{className:"mb-8 bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Resultados da busca"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:w.length}),e.jsx("span",{className:"text-gray-500 text-lg ml-2",children:"Instituições Encontradas"})]})]}),w.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Ordenar por:"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{value:b,onChange:t=>i(t.target.value),className:"pl-4 pr-10 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none text-sm font-medium hover:border-gray-300 cursor-pointer bg-white",children:[e.jsx("option",{value:"name",children:"A-Z (Alfabética)"}),e.jsx("option",{value:"name-desc",children:"Z-A (Alfabética Inversa)"})]}),e.jsx(L,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})]})}),H.length>0?e.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:H.map(t=>e.jsx(fe,{...t,onViewDetails:a=>m(a,{searchTerm:N,state:f,city:x,type:y},P,t.state,t.city)},t._uid))}):e.jsx("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(G,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Nenhuma instituição encontrada"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos instituições com os filtros selecionados. Tente ajustar seus critérios de busca."}),e.jsxs("button",{onClick:Z,className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-full hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-semibold shadow-lg transform hover:scale-105",children:[e.jsx(K,{className:"w-5 h-5"}),"Limpar Filtros"]})]})}),P<w.length&&e.jsxs("div",{className:"text-center mt-10",children:[e.jsxs("button",{onClick:re,className:"group inline-flex items-center gap-3 bg-white text-blue-600 border-2 border-blue-600 px-10 py-4 rounded-full hover:bg-gradient-to-r hover:from-blue-600 hover:to-indigo-600 hover:text-white hover:border-transparent transition-all duration-300 font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-105",children:["Carregar Mais Instituições",e.jsx(L,{className:"w-5 h-5 group-hover:translate-y-1 transition-transform duration-300"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Mostrando ",P," de ",w.length," instituições"]})]})]})]})]})})};function ge(){const{universities:m,filters:r}=oe(),s=(h,p,b,i,c)=>{i&&c?window.location.href=`/cursos/${u(i)}/${u(c)}/${h}`:window.location.href=`/cursos/${h}`},j=h=>{};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:e.jsx(pe,{onUniversitySelect:s,onFilterChange:j,initialUniversities:m,searchFilters:{searchTerm:r.searchTerm,state:r.state,city:r.city,type:r.type,sortBy:"name"}})})}const xe=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"})),Se={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:ne}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/cursos/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:xe}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+Layout.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:ie}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:le}}};export{Se as configValuesSerialized};
